# ShopManager
Прототип системы учёта заказов, клиентов и товаров с графическим интерфейсом, базой данных и возможностью анализа данных.

## Функции приложения
- регистрировать клиентов, их контактные данные и адреса;
- добавлять заказы и товары;
- просматривать, фильтровать, сортировать заказы, товары и клиентов;
- экспортировать и импортировать данные в/из форматов csv и json;
- визуализация данных: динамика продаж, наиболее активные клиенты, связи между клиентами.
## Структура проекта
- models.py — классы данных (товар, клиент, заказ);
- db.py — работа с SQLite;
- gui.py — интерфейс tkinter;
- admin.py — импорт и экспорт файлов;
- analysis.py — функции визуализации и анализа данных;
- main.py — точка входа в программу.
## Особенности
Для работы приложения необходимы библиотеки:<p>
- pandas
- re
- sqlite3
- datetime
- tkinter
- matplotlib.pyplot
- networkx
- matplotlib.backends.backend_tkagg
# Работа в приложении
## Orders
Работа с заказами
Представление является стартовым для приложения
- <b>New order</b> - создание нового заказа<p>
- <b>Edit order</b> - редактирование имеющегося заказа<p>
- <b>Delete order</b> - удаление заказа<p>
- <b>Filter ordes</b> - фильтрация заказа<p>
<img width="1051" height="540" alt="image" src="https://github.com/user-attachments/assets/1b2e1da6-9d27-42c2-86d0-504f00a3d952" /><p>
### New order
- <b>Select customer</b> - выбор клиента;<p>
- <b>Select goods</b> - выбор товаров;<p>
- <b>Exit</b> - возврат в представление Orders без создания заказа;<p>
- <b>Confirm</b> - создание нового заказа и возврат в представление Orders.<p>
<img width="1047" height="572" alt="image" src="https://github.com/user-attachments/assets/231e288e-952d-4f93-8b5f-4ede270d9cab" /><p>
При выборе товара появляется поле ввода количества единиц товара и кнопка удаления товара из заказа.<p>
В заказ можно назначить только одному клиенту и добавить любое количество товаров.<p>
### Edit order
- <b>Select customer</b> - выбор клиента;<p>
- <b>Select goods</b> - выбор товаров;<p>
- <b>Exit</b> - возврат в представление Orders без изменения заказа;<p>
- <b>Confirm</b> - сохранение изменений и возврат в представление Orders.<p>
При выборе товара появляется поле ввода количества единиц товара и кнопка удаления товара из заказа.<p>
В заказ можно назначить только одному клиенту и добавить любое количество товаров.<p>
### Delete order
Выбранный заказ удаляется на месте, без отдельного представления
### Filter orders
Поиск заказов по установленным фильтрам. Фильтрация по принципу "и".
## Customers
Работа с клиентами
- <b>New customer</b> - создание нового клиента<p>
- <b>Edit customer</b> - редактирование имеющегося клиента<p>
- <b>Delete customer</b> - удаление клиентов<p>
- <b>Filter customers</b> - фильтрация клиентов<p>
### New customer
- <b>Поля ввода данных клиента</b> - по умолчанию заполнениы подсказками;<p>
- <b>Create customer</b> - создание нового клиента и возврат в представление Customers;<p>
- <b>Exit</b> - возврат в представление Customers без создания клиента;<p>
<img width="1046" height="544" alt="image" src="https://github.com/user-attachments/assets/3507c65f-8eb8-49c4-8454-957c0d65b7ba" /><p>
### Edit customer
- <b>Текущие данные клиента</b>;<p>
- <b>Поля ввода новых данных клиента</b> - по умолчанию заполнены текущими значениями;<p>
- <b>Confirm</b> - сохранение изменений и возврат в представление Customers;<p>
- <b>Exit</b> - возврат в представление Customers без сохранения изменений;<p>
### Delete customer
Выбранный клиент удаляется на месте, без отдельного представления
### Filter customers
Поиск клиентов по установленным фильтрам. Фильтрация по принципу "и".
## Goods
Работа с товарами
- <b>New good</b> - создание нового товара<p>
- <b>Edit good</b> - редактирование имеющегося товара<p>
- <b>Delete good</b> - удаление товаров<p>
- <b>Filter goods</b> - фильтрация товаров<p>
### New good
- <b>Поля ввода данных товара</b>;<p>
- <b>Create good</b> - создание нового товара и возврат в представление Goods;<p>
- <b>Exit</b> - возврат в представление Goods без создания клиента;<p>
<img width="1046" height="498" alt="image" src="https://github.com/user-attachments/assets/2c3fc6cc-6531-4237-8ad1-7d649c79c9ea" /><p>
### Edit good
- <b>Текущие данные товара</b>;<p>
- <b>Поля ввода новых данных товара</b>;<p>
- <b>Confirm</b> - сохранение изменений и возврат в представление Goods;<p>
- <b>Exit</b> - возврат в представление Goods без сохранения изменений;<p>
### Delete good
Выбранный товар удаляется на месте, без отдельного представления
### Filter good
Поиск товаров по установленным фильтрам. Фильтрация по принципу "и".
## Analysis
Визуализация аналитических данных<p>
<img width="1047" height="131" alt="image" src="https://github.com/user-attachments/assets/ff62919d-9517-4366-b097-1ca808c2ce15" />
- <b>Top 5 customers</b> - выводит таблицу с топ 5 клиентов по сумме заказов;<p>
<img width="1047" height="259" alt="image" src="https://github.com/user-attachments/assets/c0c8848c-bf92-4d41-bb7b-eaac4e5dad3f" /><p>
- <b>Sales dinamycs</b> - выводит графики с динамикой продаж по датам;<p>
<img width="1052" height="603" alt="image" src="https://github.com/user-attachments/assets/4babe7f8-e23d-4a23-bbb9-9531f5742430" /><p>
- <b>Relations</b> - выводит граф связей между выбранными клиентами по заказанным товарам;<p>
<img width="1041" height="913" alt="image" src="https://github.com/user-attachments/assets/2d323162-d214-4587-a67b-792f27a3adf9" /><p>
- <b>To main page</b> - возврат на стартовое представление.<p>
## Admin
Окно импорта и экспорта данных<p>
### Import data
Данные можно загрузить из csv или json.<p>
Тип загружаемого файла указывать не нужно, он определяется выбором нажатой кнопки.<p>
Загружаемый файл добавляет в БД данные.<p>
<b>Импорт клиентов:</b><p>
  name: имя клиента<p>
  contact: контакт клиента (номер телефона или email)<p>
  address: адрес клиента (доставки)<p>
<b>Импорт товаров:</b><p>
  good: наименование товара<p>
  price: цена единицы товара<p>
<b>Импорт заказов:</b><p>
  order_id: идентификатор отдельного заказа<p>
            <i>Нужен для группировки по заказ/клиент, чтобы разделить заказы одного клиента</i><p>
            <i>При соответствии одному заказу нескольких клиентов создаются заказы для каждого клиента</i><p>
  customer_id: уникальный номер клиента<p>
  good_id: контакт клиента (номер телефона или email)<p>
  quantity: адрес клиента (доставки)<p>
<img width="802" height="630" alt="image" src="https://github.com/user-attachments/assets/43e02b93-f228-4a85-b52f-a9855ece1743" /><p>
### Export data
Данные можно выгрузить в csv или json.<p>
Данные выгружаются в соответствии с пользовательским SQL запросом в поле ввода запроса.<p>
Скачиваемый файл автоматически принимает формат csv или json в зависимости от выбора пользователя.<p>
<img width="798" height="628" alt="image" src="https://github.com/user-attachments/assets/23e9d523-ad07-4d1c-aad8-fe49b52b8ef0" /><p>







